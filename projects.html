<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø°ÙƒØ§Ø¡ Ù…Ø­Ù…Ø¯ ÙÙ‡Ø¯</title>
    <style>
        /* ØªÙ†Ø³ÙŠÙ‚ Ø¨Ø³ÙŠØ· ÙˆØ§Ø­ØªØ±Ø§ÙÙŠ */
        body { font-family: Arial, sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .chat-container { width: 90%; max-width: 400px; background: white; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); overflow: hidden; display: flex; flex-direction: column; }
        .header { background: #007bff; color: white; padding: 15px; text-align: center; font-weight: bold; }
        #chat-box { height: 300px; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 10px; }
        .message { padding: 10px; border-radius: 10px; max-width: 80%; }
        .user-msg { background: #007bff; color: white; align-self: flex-start; }
        .ai-msg { background: #e4e6eb; color: black; align-self: flex-end; }
        .input-area { display: flex; padding: 10px; border-top: 1px solid #ddd; }
        input { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 5px; outline: none; }
        button { background: #007bff; color: white; border: none; padding: 10px 15px; margin-right: 5px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>

<div class="chat-container">
    <div class="header">Ø°ÙƒØ§Ø¡ Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ Ù…Ø­Ù…Ø¯ ÙÙ‡Ø¯ ğŸ¤–</div>
    <div id="chat-box">
        <div class="message ai-msg">Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…Ù† ØµÙ†Ø¹ Ù…Ø­Ù…Ø¯ ÙÙ‡Ø¯ØŒ ÙƒÙŠÙ Ø£Ø®Ø¯Ù…Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ</div>
    </div>
    <div class="input-area">
        <input type="text" id="chat-input" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§...">
        <button onclick="askFahadAI()">Ø¥Ø±Ø³Ø§Ù„</button>
    </div>
</div>

<script>
    async function askFahadAI() {
        const inputField = document.getElementById('chat-input');
        const chatBox = document.getElementById('chat-box');
        const message = inputField.value.trim();

        if (!message) return;

        // 1. Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        const userDiv = document.createElement('div');
        userDiv.className = 'message user-msg';
        userDiv.textContent = message;
        chatBox.appendChild(userDiv);
        inputField.value = '';
        chatBox.scrollTop = chatBox.scrollHeight;

        // 2. Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙÙƒÙŠØ±..."
        const loadingDiv = document.createElement('div');
        loadingDiv.className = 'message ai-msg';
        loadingDiv.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙÙƒÙŠØ±...";
        chatBox.appendChild(loadingDiv);

        try {
            // 3. Ø§Ù„Ø±Ø¨Ø· Ù…Ø¹ Hugging Face Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
            const response = await fetch("https://mohamedfahad-mohammed-ai.hf.space/run/predict", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    data: [message]
                })
            });

            const result = await response.json();
            const aiReply = result.data[0];

            // 4. Ø§Ø³ØªØ¨Ø¯Ø§Ù„ "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙÙƒÙŠØ±" Ø¨Ø±Ø¯ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
            loadingDiv.textContent = aiReply;

        } catch (error) {
            loadingDiv.textContent = "Ø¹Ø°Ø±Ø§Ù‹ØŒ ÙˆØ§Ø¬Ù‡Øª Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø¹Ù‚Ù„ Ù…Ø­Ù…Ø¯ ÙÙ‡Ø¯!";
            console.error(error);
        }
        
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    // Ù„ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Enter
    document.getElementById('chat-input').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') askFahadAI();
    });
</script>

</body>
</html>

